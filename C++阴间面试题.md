# C++面试题



### 变量初始化

```C++
int` `*p1 = ``new` `int``[``10``]; 
int` `*p2 = ``new` `int``[``10``]();
```

对于内置类型而言，new仅仅是分配内存，除非后面显示加(),相当于调用它的构造函数；对于自定义类型而言，只要一调用new，那么编译器不仅仅给它分配内存，还调用它的默认构造函数初始化，即使后面没有加()。

### 枚举变量

**枚举变量是全局变量的情况下，** **枚举值的缺省值是0，不是枚举的第一个值。** **其他情况，其值是不定的，而且不限定于所列出的枚举值。**

char是一个byte。本质是int，题里面不是int。



sizeof

strlen C风格字符串 不含'\0'

### 存储结构

全局变量和静态变量都存放在静态存储区中，全局变量作用域更大，最早被创建，最后被析构。



#### 类变量存储结构

在类中，如果什么都没有，则类占用1个字节，一旦类中有其他的占用空间成员，则这1个字节就不在计算之内，如一个类只有一个int则占用4字节而不是5字节。

如果只有成员函数，则还是只占用1个字节，因为类函数不占用空间

虚函数因为存在一个虚函数表，需要4个字节，数据成员对象如果为指针则为4字节，注意有字节对齐，如果为13字节，则进位到16字节空间。



### 字节对齐

对于变量大小k，其地址必须是k的倍数

#pragma pack(n) 自定义n对齐

#pragma pack() 取消自定义对齐



### 虚函数

父类指针指向子类实例对象，调用普通重写方法时，会调用父类中的方法。而调用被子类重写虚函数时，会调用子类中的方法。

子类中被重写的虚函数的运行方式是动态绑定的，与当前指向类实例的父类指针类型无关，仅和类实例对象本身有关。

虚函数表。



### 拷贝

赋值

A a;

a=b;

浅拷贝

A b=a;

深拷贝



